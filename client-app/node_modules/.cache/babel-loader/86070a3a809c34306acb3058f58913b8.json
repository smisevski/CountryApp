{"remainingRequest":"/srv/source/CountryApp/client-app/node_modules/babel-loader/lib/index.js!/srv/source/CountryApp/client-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/srv/source/CountryApp/client-app/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/srv/source/CountryApp/client-app/src/components/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/srv/source/CountryApp/client-app/src/components/Login.vue","mtime":1619299388816},{"path":"/srv/source/CountryApp/client-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/srv/source/CountryApp/client-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/srv/source/CountryApp/client-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/srv/source/CountryApp/client-app/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEF1dGhTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2VzL0F1dGhTZXJ2aWNlIjsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAidnVlLXJvdXRlciI7CmltcG9ydCB7IHJlZiwgb25CZWZvcmVNb3VudCB9IGZyb20gInZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLAogIGNvbXBvbmVudHM6IHt9LAogIGVtaXRzOiBbImFjdGl2ZUl0ZW0iXSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMsIF9yZWYpIHsKICAgIHZhciBlbWl0ID0gX3JlZi5lbWl0OwogICAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOwogICAgdmFyIGF1dGhTZXJ2aWNlID0gbmV3IEF1dGhTZXJ2aWNlKCk7CiAgICB2YXIgbGFiZWxQb3NpdGlvbiA9IHJlZigicmlnaHQiKTsKICAgIHZhciBmb3JtTGFiZWxBbGlnbiA9IHJlZih7CiAgICAgIG5hbWU6ICIiLAogICAgICByZWdpb246ICIiLAogICAgICB0eXBlOiAiIgogICAgfSk7CiAgICB2YXIgbG9naW5TdGF0ZSA9IHJlZih7CiAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiCiAgICB9KTsKCiAgICB2YXIgbG9naW4gPSBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgYXV0aFNlcnZpY2UubG9naW4obG9naW5TdGF0ZS52YWx1ZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImFjY2Vzc1Rva2VuIiwgcmVzLmRhdGEuYWNjZXNzVG9rZW4pOwogICAgICAgICAgcm91dGVyLnB1c2goIi8iKTsKICAgICAgICAgIGVtaXQoImFjdGl2ZUl0ZW0iLCAiMSIpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGUpOwogICAgICB9KTsKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgbG9naW5TdGF0ZTogbG9naW5TdGF0ZSwKICAgICAgZm9ybUxhYmVsQWxpZ246IGZvcm1MYWJlbEFsaWduLAogICAgICBsYWJlbFBvc2l0aW9uOiBsYWJlbFBvc2l0aW9uLAogICAgICBsb2dpbjogbG9naW4KICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["/srv/source/CountryApp/client-app/src/components/Login.vue"],"names":[],"mappings":"AAwBA,OAAO,WAAP,MAAwB,4BAAxB;AACA,SAAS,SAAT,QAA0B,YAA1B;AACA,SAAS,GAAT,EAAc,aAAd,QAAmC,KAAnC;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,UAAU,EAAE,EAFC;AAGb,EAAA,KAAK,EAAE,CAAC,YAAD,CAHM;AAIb,EAAA,KAJa,iBAIP,KAJO,QAIU;AAAA,QAAR,IAAQ,QAAR,IAAQ;AACrB,QAAM,MAAK,GAAI,SAAS,EAAxB;AACA,QAAM,WAAU,GAAI,IAAI,WAAJ,EAApB;AACA,QAAM,aAAY,GAAI,GAAG,CAAC,OAAD,CAAzB;AACA,QAAM,cAAa,GAAI,GAAG,CAAC;AACzB,MAAA,IAAI,EAAE,EADmB;AAEzB,MAAA,MAAM,EAAE,EAFiB;AAGzB,MAAA,IAAI,EAAE;AAHmB,KAAD,CAA1B;AAKA,QAAM,UAAS,GAAI,GAAG,CAAC;AACrB,MAAA,QAAQ,EAAE,EADW;AAErB,MAAA,QAAQ,EAAE;AAFW,KAAD,CAAtB;;AAIA,QAAM,KAAI,GAAI,SAAR,KAAQ,GAAM;AAClB,MAAA,WAAU,CACP,KADH,CACS,UAAU,CAAC,KADpB,EAEG,IAFH,CAEQ,UAAC,GAAD,EAAS;AACb,YAAI,GAAG,CAAC,MAAJ,KAAe,GAAnB,EAAwB;AACtB,UAAA,YAAY,CAAC,OAAb,CAAqB,aAArB,EAAoC,GAAG,CAAC,IAAJ,CAAS,WAA7C;AACA,UAAA,MAAM,CAAC,IAAP,CAAY,GAAZ;AACA,UAAA,IAAI,CAAC,YAAD,EAAe,GAAf,CAAJ;AACF;AACD,OARH,EASG,KATH,CASS,UAAC,CAAD,EAAO;AACZ,QAAA,OAAO,CAAC,KAAR,CAAc,CAAd;AACD,OAXH;AAYD,KAbD;;AAeA,WAAO;AACL,MAAA,UAAU,EAAV,UADK;AAEL,MAAA,cAAc,EAAd,cAFK;AAGL,MAAA,aAAa,EAAb,aAHK;AAIL,MAAA,KAAK,EAAL;AAJK,KAAP;AAMD;AAtCY,CAAf","sourcesContent":["<template>\n  <router-view name=\"Login\">\n    <el-container class=\"main-container\" justify=\"center\">\n      <el-form\n        :label-position=\"labelPosition.value\"\n        label-width=\"100px\"\n        :model=\"formLabelAlign\"\n        justify=\"center\"\n      >\n        <el-form-item label=\"Username\">\n          <el-input v-model=\"loginState.username\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Password\">\n          <el-input v-model=\"loginState.password\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"login\">Log In</el-button>\n        </el-form-item>\n      </el-form>\n    </el-container>\n  </router-view>\n</template> \n\n<script>\nimport AuthService from \"../../services/AuthService\";\nimport { useRouter } from \"vue-router\";\nimport { ref, onBeforeMount } from \"vue\";\n\nexport default {\n  name: \"Login\",\n  components: {},\n  emits: [\"activeItem\"],\n  setup(props, { emit }) {\n    const router = useRouter();\n    const authService = new AuthService();\n    const labelPosition = ref(\"right\");\n    const formLabelAlign = ref({\n      name: \"\",\n      region: \"\",\n      type: \"\",\n    });\n    const loginState = ref({\n      username: \"\",\n      password: \"\",\n    });\n    const login = () => {\n      authService\n        .login(loginState.value)\n        .then((res) => {\n          if (res.status === 200) {\n            localStorage.setItem(\"accessToken\", res.data.accessToken);\n            router.push(\"/\");\n            emit(\"activeItem\", \"1\");\n          }\n        })\n        .catch((e) => {\n          console.error(e);\n        });\n    };\n    \n    return {\n      loginState,\n      formLabelAlign,\n      labelPosition,\n      login,\n    };\n  },\n};\n</script>\n\n<style scoped>\n</style>\n\n"],"sourceRoot":""}]}