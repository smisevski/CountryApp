{"remainingRequest":"/srv/source/CountryApp/client-app/node_modules/babel-loader/lib/index.js!/srv/source/CountryApp/client-app/node_modules/vuetify/lib/directives/touch/index.mjs","dependencies":[{"path":"/srv/source/CountryApp/client-app/node_modules/vuetify/lib/directives/touch/index.mjs","mtime":499162500000},{"path":"/srv/source/CountryApp/client-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/srv/source/CountryApp/client-app/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL3Nydi9zb3VyY2UvQ291bnRyeUFwcC9jbGllbnQtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vIFR5cGVzCi8vIFV0aWxpdGllcwppbXBvcnQgeyBrZXlzIH0gZnJvbSAiLi4vLi4vdXRpbC9oZWxwZXJzLm1qcyI7Cgp2YXIgaGFuZGxlR2VzdHVyZSA9IGZ1bmN0aW9uIGhhbmRsZUdlc3R1cmUod3JhcHBlcikgewogIHZhciB0b3VjaHN0YXJ0WCA9IHdyYXBwZXIudG91Y2hzdGFydFgsCiAgICAgIHRvdWNoZW5kWCA9IHdyYXBwZXIudG91Y2hlbmRYLAogICAgICB0b3VjaHN0YXJ0WSA9IHdyYXBwZXIudG91Y2hzdGFydFksCiAgICAgIHRvdWNoZW5kWSA9IHdyYXBwZXIudG91Y2hlbmRZOwogIHZhciBkaXJSYXRpbyA9IDAuNTsKICB2YXIgbWluRGlzdGFuY2UgPSAxNjsKICB3cmFwcGVyLm9mZnNldFggPSB0b3VjaGVuZFggLSB0b3VjaHN0YXJ0WDsKICB3cmFwcGVyLm9mZnNldFkgPSB0b3VjaGVuZFkgLSB0b3VjaHN0YXJ0WTsKCiAgaWYgKE1hdGguYWJzKHdyYXBwZXIub2Zmc2V0WSkgPCBkaXJSYXRpbyAqIE1hdGguYWJzKHdyYXBwZXIub2Zmc2V0WCkpIHsKICAgIHdyYXBwZXIubGVmdCAmJiB0b3VjaGVuZFggPCB0b3VjaHN0YXJ0WCAtIG1pbkRpc3RhbmNlICYmIHdyYXBwZXIubGVmdCh3cmFwcGVyKTsKICAgIHdyYXBwZXIucmlnaHQgJiYgdG91Y2hlbmRYID4gdG91Y2hzdGFydFggKyBtaW5EaXN0YW5jZSAmJiB3cmFwcGVyLnJpZ2h0KHdyYXBwZXIpOwogIH0KCiAgaWYgKE1hdGguYWJzKHdyYXBwZXIub2Zmc2V0WCkgPCBkaXJSYXRpbyAqIE1hdGguYWJzKHdyYXBwZXIub2Zmc2V0WSkpIHsKICAgIHdyYXBwZXIudXAgJiYgdG91Y2hlbmRZIDwgdG91Y2hzdGFydFkgLSBtaW5EaXN0YW5jZSAmJiB3cmFwcGVyLnVwKHdyYXBwZXIpOwogICAgd3JhcHBlci5kb3duICYmIHRvdWNoZW5kWSA+IHRvdWNoc3RhcnRZICsgbWluRGlzdGFuY2UgJiYgd3JhcHBlci5kb3duKHdyYXBwZXIpOwogIH0KfTsKCmZ1bmN0aW9uIF90b3VjaHN0YXJ0KGV2ZW50LCB3cmFwcGVyKSB7CiAgdmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07CiAgd3JhcHBlci50b3VjaHN0YXJ0WCA9IHRvdWNoLmNsaWVudFg7CiAgd3JhcHBlci50b3VjaHN0YXJ0WSA9IHRvdWNoLmNsaWVudFk7CiAgd3JhcHBlci5zdGFydCA9PSBudWxsID8gdm9pZCAwIDogd3JhcHBlci5zdGFydChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGV2ZW50KSwgd3JhcHBlcikpOwp9CgpmdW5jdGlvbiBfdG91Y2hlbmQoZXZlbnQsIHdyYXBwZXIpIHsKICB2YXIgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTsKICB3cmFwcGVyLnRvdWNoZW5kWCA9IHRvdWNoLmNsaWVudFg7CiAgd3JhcHBlci50b3VjaGVuZFkgPSB0b3VjaC5jbGllbnRZOwogIHdyYXBwZXIuZW5kID09IG51bGwgPyB2b2lkIDAgOiB3cmFwcGVyLmVuZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGV2ZW50KSwgd3JhcHBlcikpOwogIGhhbmRsZUdlc3R1cmUod3JhcHBlcik7Cn0KCmZ1bmN0aW9uIF90b3VjaG1vdmUoZXZlbnQsIHdyYXBwZXIpIHsKICB2YXIgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTsKICB3cmFwcGVyLnRvdWNobW92ZVggPSB0b3VjaC5jbGllbnRYOwogIHdyYXBwZXIudG91Y2htb3ZlWSA9IHRvdWNoLmNsaWVudFk7CiAgd3JhcHBlci5tb3ZlID09IG51bGwgPyB2b2lkIDAgOiB3cmFwcGVyLm1vdmUoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBldmVudCksIHdyYXBwZXIpKTsKfQoKZnVuY3Rpb24gY3JlYXRlSGFuZGxlcnMoKSB7CiAgdmFyIHZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKICB2YXIgd3JhcHBlciA9IHsKICAgIHRvdWNoc3RhcnRYOiAwLAogICAgdG91Y2hzdGFydFk6IDAsCiAgICB0b3VjaGVuZFg6IDAsCiAgICB0b3VjaGVuZFk6IDAsCiAgICB0b3VjaG1vdmVYOiAwLAogICAgdG91Y2htb3ZlWTogMCwKICAgIG9mZnNldFg6IDAsCiAgICBvZmZzZXRZOiAwLAogICAgbGVmdDogdmFsdWUubGVmdCwKICAgIHJpZ2h0OiB2YWx1ZS5yaWdodCwKICAgIHVwOiB2YWx1ZS51cCwKICAgIGRvd246IHZhbHVlLmRvd24sCiAgICBzdGFydDogdmFsdWUuc3RhcnQsCiAgICBtb3ZlOiB2YWx1ZS5tb3ZlLAogICAgZW5kOiB2YWx1ZS5lbmQKICB9OwogIHJldHVybiB7CiAgICB0b3VjaHN0YXJ0OiBmdW5jdGlvbiB0b3VjaHN0YXJ0KGUpIHsKICAgICAgcmV0dXJuIF90b3VjaHN0YXJ0KGUsIHdyYXBwZXIpOwogICAgfSwKICAgIHRvdWNoZW5kOiBmdW5jdGlvbiB0b3VjaGVuZChlKSB7CiAgICAgIHJldHVybiBfdG91Y2hlbmQoZSwgd3JhcHBlcik7CiAgICB9LAogICAgdG91Y2htb3ZlOiBmdW5jdGlvbiB0b3VjaG1vdmUoZSkgewogICAgICByZXR1cm4gX3RvdWNobW92ZShlLCB3cmFwcGVyKTsKICAgIH0KICB9Owp9CgpmdW5jdGlvbiBtb3VudGVkKGVsLCBiaW5kaW5nKSB7CiAgdmFyIF92YWx1ZSRvcHRpb25zLCBfYmluZGluZyRpbnN0YW5jZSwgX3RhcmdldCRfdG91Y2hIYW5kbGVyOwoKICB2YXIgdmFsdWUgPSBiaW5kaW5nLnZhbHVlOwogIHZhciB0YXJnZXQgPSAodmFsdWUgPT0gbnVsbCA/IHZvaWQgMCA6IHZhbHVlLnBhcmVudCkgPyBlbC5wYXJlbnRFbGVtZW50IDogZWw7CiAgdmFyIG9wdGlvbnMgPSAoX3ZhbHVlJG9wdGlvbnMgPSB2YWx1ZSA9PSBudWxsID8gdm9pZCAwIDogdmFsdWUub3B0aW9ucykgIT0gbnVsbCA/IF92YWx1ZSRvcHRpb25zIDogewogICAgcGFzc2l2ZTogdHJ1ZQogIH07CiAgdmFyIHVpZCA9IChfYmluZGluZyRpbnN0YW5jZSA9IGJpbmRpbmcuaW5zdGFuY2UpID09IG51bGwgPyB2b2lkIDAgOiBfYmluZGluZyRpbnN0YW5jZS4kLnVpZDsgLy8gVE9ETzogdXNlIGN1c3RvbSB1aWQgZ2VuZXJhdG9yCgogIGlmICghdGFyZ2V0IHx8ICF1aWQpIHJldHVybjsKICB2YXIgaGFuZGxlcnMgPSBjcmVhdGVIYW5kbGVycyhiaW5kaW5nLnZhbHVlKTsKICB0YXJnZXQuX3RvdWNoSGFuZGxlcnMgPSAoX3RhcmdldCRfdG91Y2hIYW5kbGVyID0gdGFyZ2V0Ll90b3VjaEhhbmRsZXJzKSAhPSBudWxsID8gX3RhcmdldCRfdG91Y2hIYW5kbGVyIDogT2JqZWN0LmNyZWF0ZShudWxsKTsKICB0YXJnZXQuX3RvdWNoSGFuZGxlcnNbdWlkXSA9IGhhbmRsZXJzOwogIGtleXMoaGFuZGxlcnMpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50TmFtZSkgewogICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyc1tldmVudE5hbWVdLCBvcHRpb25zKTsKICB9KTsKfQoKZnVuY3Rpb24gdW5tb3VudGVkKGVsLCBiaW5kaW5nKSB7CiAgdmFyIF9iaW5kaW5nJHZhbHVlLCBfYmluZGluZyRpbnN0YW5jZTI7CgogIHZhciB0YXJnZXQgPSAoKF9iaW5kaW5nJHZhbHVlID0gYmluZGluZy52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iaW5kaW5nJHZhbHVlLnBhcmVudCkgPyBlbC5wYXJlbnRFbGVtZW50IDogZWw7CiAgdmFyIHVpZCA9IChfYmluZGluZyRpbnN0YW5jZTIgPSBiaW5kaW5nLmluc3RhbmNlKSA9PSBudWxsID8gdm9pZCAwIDogX2JpbmRpbmckaW5zdGFuY2UyLiQudWlkOwogIGlmICghKHRhcmdldCA9PSBudWxsID8gdm9pZCAwIDogdGFyZ2V0Ll90b3VjaEhhbmRsZXJzKSB8fCAhdWlkKSByZXR1cm47CiAgdmFyIGhhbmRsZXJzID0gdGFyZ2V0Ll90b3VjaEhhbmRsZXJzW3VpZF07CiAga2V5cyhoYW5kbGVycykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7CiAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXJzW2V2ZW50TmFtZV0pOwogIH0pOwogIGRlbGV0ZSB0YXJnZXQuX3RvdWNoSGFuZGxlcnNbdWlkXTsKfQoKZXhwb3J0IHZhciBUb3VjaCA9IHsKICBtb3VudGVkOiBtb3VudGVkLAogIHVubW91bnRlZDogdW5tb3VudGVkCn07CmV4cG9ydCBkZWZhdWx0IFRvdWNoOw=="},{"version":3,"sources":["../../../src/directives/touch/index.ts"],"names":["keys","handleGesture","wrapper","touchendY","dirRatio","minDistance","touchendX","Math","touchstartX","touchstartY","touch","event","value","touchmoveX","touchmoveY","offsetX","offsetY","left","right","up","down","start","move","end","touchstart","e","touchend","touchmove","binding","target","el","options","passive","uid","handlers","createHandlers","Object","eventName","Touch","mounted","unmounted"],"mappings":"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","sourcesContent":["// Types\nimport type {\n  DirectiveBinding,\n  ObjectDirective,\n} from 'vue'\nimport type {\n  TouchHandlers,\n  TouchValue,\n  TouchWrapper,\n} from 'vuetify/types'\n\n// Utilities\nimport { keys } from '@/util/helpers'\n\nexport interface TouchStoredHandlers {\n  touchstart: (e: TouchEvent) => void\n  touchend: (e: TouchEvent) => void\n  touchmove: (e: TouchEvent) => void\n}\n\ninterface TouchDirectiveBinding extends Omit<DirectiveBinding, 'value'> {\n  value?: TouchValue\n}\n\nconst handleGesture = (wrapper: TouchWrapper) => {\n  const { touchstartX, touchendX, touchstartY, touchendY } = wrapper\n  const dirRatio = 0.5\n  const minDistance = 16\n  wrapper.offsetX = touchendX - touchstartX\n  wrapper.offsetY = touchendY - touchstartY\n\n  if (Math.abs(wrapper.offsetY) < dirRatio * Math.abs(wrapper.offsetX)) {\n    wrapper.left && (touchendX < touchstartX - minDistance) && wrapper.left(wrapper)\n    wrapper.right && (touchendX > touchstartX + minDistance) && wrapper.right(wrapper)\n  }\n\n  if (Math.abs(wrapper.offsetX) < dirRatio * Math.abs(wrapper.offsetY)) {\n    wrapper.up && (touchendY < touchstartY - minDistance) && wrapper.up(wrapper)\n    wrapper.down && (touchendY > touchstartY + minDistance) && wrapper.down(wrapper)\n  }\n}\n\nfunction touchstart (event: TouchEvent, wrapper: TouchWrapper) {\n  const touch = event.changedTouches[0]\n  wrapper.touchstartX = touch.clientX\n  wrapper.touchstartY = touch.clientY\n\n  wrapper.start?.({ ...event, ...wrapper })\n}\n\nfunction touchend (event: TouchEvent, wrapper: TouchWrapper) {\n  const touch = event.changedTouches[0]\n  wrapper.touchendX = touch.clientX\n  wrapper.touchendY = touch.clientY\n\n  wrapper.end?.({ ...event, ...wrapper })\n\n  handleGesture(wrapper)\n}\n\nfunction touchmove (event: TouchEvent, wrapper: TouchWrapper) {\n  const touch = event.changedTouches[0]\n  wrapper.touchmoveX = touch.clientX\n  wrapper.touchmoveY = touch.clientY\n\n  wrapper.move?.({ ...event, ...wrapper })\n}\n\nfunction createHandlers (value: TouchHandlers = {}): TouchStoredHandlers {\n  const wrapper = {\n    touchstartX: 0,\n    touchstartY: 0,\n    touchendX: 0,\n    touchendY: 0,\n    touchmoveX: 0,\n    touchmoveY: 0,\n    offsetX: 0,\n    offsetY: 0,\n    left: value.left,\n    right: value.right,\n    up: value.up,\n    down: value.down,\n    start: value.start,\n    move: value.move,\n    end: value.end,\n  }\n\n  return {\n    touchstart: (e: TouchEvent) => touchstart(e, wrapper),\n    touchend: (e: TouchEvent) => touchend(e, wrapper),\n    touchmove: (e: TouchEvent) => touchmove(e, wrapper),\n  }\n}\n\nfunction mounted (el: HTMLElement, binding: TouchDirectiveBinding) {\n  const value = binding.value\n  const target = value?.parent ? el.parentElement : el\n  const options = value?.options ?? { passive: true }\n  const uid = binding.instance?.$.uid // TODO: use custom uid generator\n\n  if (!target || !uid) return\n\n  const handlers = createHandlers(binding.value)\n\n  target._touchHandlers = target._touchHandlers ?? Object.create(null)\n  target._touchHandlers![uid] = handlers\n\n  keys(handlers).forEach(eventName => {\n    target.addEventListener(eventName, handlers[eventName], options)\n  })\n}\n\nfunction unmounted (el: HTMLElement, binding: TouchDirectiveBinding) {\n  const target = binding.value?.parent ? el.parentElement : el\n  const uid = binding.instance?.$.uid\n\n  if (!target?._touchHandlers || !uid) return\n\n  const handlers = target._touchHandlers[uid]\n\n  keys(handlers).forEach(eventName => {\n    target.removeEventListener(eventName, handlers[eventName])\n  })\n\n  delete target._touchHandlers[uid]\n}\n\nexport const Touch: ObjectDirective = {\n  mounted,\n  unmounted,\n}\n\nexport default Touch\n"]}]}